(this["webpackJsonptaylor-webapp"]=this["webpackJsonptaylor-webapp"]||[]).push([[0],{213:function(e,t,r){var n=r(740),a=r(745),i=a.utils,o=(i.hexStripZeros,i.hexZeroPad),s=r(746),u=(r(747),r(337));r(748);var c=function(e){return e.toString(2)},l=function(e){return e.toString(16)},d=function(e){return parseInt(e,2)},f=function(e){return l(d(e))},h=function(e){return parseInt(e,16)},m=function(e){return"0x"+e},b=function(e){return"0x"===e.substring(0,2)?e.substring(2):e},y=function(e){return c(e).padStart(26,"0")},p=function e(t){var r,n,a="string"===typeof t?k[t]:t;if(a.hex)return a;if(a.composed){var i=a.composed.map((function(t){return e(t)}));r=function(e){return i.map((function(t,r){return"string"===typeof t.bin?t.bin:t.bin(e[r])})).join("")},n=function(e){return i.map((function(t,r){return"string"===typeof t.hex?t.hex:t.hex(e[r])})).join("")}}else r=function(e){return"1"+function(e){return c(e).padStart(4,"0")}(e)+y(a.id)+(a.mutable?"1":"0")};if(null!==a.arity){var o=r(a.arity);return{bin:o,hex:f(o)}}return{bin:r,hex:n||function(e){return f(r(e))}}},g=function(e){return f(w.unknown+"0".padStart(24,"0")).padStart(8,"0")+l(e).padStart(8,"0")},v=function(e){return b(o(m(f(w.list+c(1).padStart(4,"0")+e)),4))},w={function:"1",array:"01",struct:"001",list:"0001",number:"00001",bytelike:"000001",enum:"0000001",unknown:"00000001"},_=(v(0),f("00000000000000000000000000000000"),f("00000000000000000000000000000001"),"01010000000"),x="01010010001",k={add:{mutable:!1,arity:2},sub:{mutable:!1,arity:2},mul:{mutable:!1,arity:2},div:{mutable:!1,arity:2},sdiv:{mutable:!1,arity:2},mod:{mutable:!1,arity:2},smod:{mutable:!1,arity:2},exp:{mutable:!1,arity:2},not:{mutable:!1,arity:1},lt:{mutable:!1,arity:2},gt:{mutable:!1,arity:2},slt:{mutable:!1,arity:2},sgt:{mutable:!1,arity:2},eq:{mutable:!1,arity:2},iszero:{mutable:!1,arity:1},and:{mutable:!1,arity:2},or:{mutable:!1,arity:2},xor:{mutable:!1,arity:2},byte:{mutable:!1,arity:2},shl:{mutable:!1,arity:2},shr:{mutable:!1,arity:2},sar:{mutable:!1,arity:2},addmod:{mutable:!1,arity:3},mulmod:{mutable:!1,arity:3},signextend:{mutable:!1,arity:2},keccak256:{mutable:!1,arity:2},call:{mutable:!0,arity:2},callcode:{mutable:!0,arity:2},delegatecall:{mutable:!0,arity:2},staticcall:{mutable:!1,arity:2},list:{mutable:!1,arity:null},apply:{mutable:!1,arity:null},lambda:{mutable:!1,arity:null},"fn*":{mutable:!1,arity:null},"def!":{mutable:!1,arity:2},getf:{mutable:!1,arity:null},if:{mutable:!1,arity:3},contig:{mutable:!1,arity:2},concat:{mutable:!1,arity:2},map:{mutable:!1,arity:2},reduce:{mutable:!1,arity:3},nth:{mutable:!1,arity:2},first:{mutable:!1,arity:1},rest:{mutable:!1,arity:1},"empty?":{mutable:!1,arity:1},"true?":{mutable:!1,arity:1},"false?":{mutable:!1,arity:1},"let*":{mutable:!1,arity:2},cons:{mutable:!1,arity:2},concat2:{mutable:!1,arity:null},"nil?":{mutable:!1,arity:1},"list?":{mutable:!1,arity:1},vector:{mutable:!1,arity:null},"vector?":{mutable:!1,arity:1},"sequential?":{mutable:!1,arity:1},"hash-map":{mutable:!1,arity:null},"map?":{mutable:!1,arity:1},assoc:{mutable:!1,arity:null},dissoc:{mutable:!1,arity:2},get:{mutable:!1,arity:2},"contains?":{mutable:!1,arity:2},keys:{mutable:!1,arity:1},vals:{mutable:!1,arity:1},"fn?":{mutable:!1,arity:1},"string?":{mutable:!1,arity:1},"number?":{mutable:!1,arity:1},seq:{mutable:!1,arity:1},conj:{mutable:!1,arity:1},symbol:{mutable:!1,arity:1},"symbol?":{mutable:!1,arity:1},keyword:{mutable:!1,arity:1},"keyword?":{mutable:!1,arity:1},count:{mutable:!1,arity:1},do:{mutable:!1,arity:1},"try*":{mutable:!1,arity:2},"catch*":{mutable:!1,arity:2},throw:{mutable:!1,arity:1},"defmacro!":{mutable:!1,arity:2},is_macro_call:{mutable:!1,arity:2},macroexpand:{mutable:!1,arity:2},atom:{mutable:!1,arity:1},"atom?":{mutable:!1,arity:1},deref:{mutable:!1,arity:1},"swap!":{mutable:!1,arity:null},"reset!":{mutable:!1,arity:1},"time-ms":{mutable:!1,arity:0},meta:{mutable:!1,arity:1},"with-meta":{mutable:!1,arity:2},quote:{mutable:!1,arity:null},quasiquote:{mutable:!1,arity:null},prn:{mutable:!1,arity:null},"pr-str":{mutable:!1,arity:null},str:{mutable:!1,arity:null},println:{mutable:!1,arity:null},readline:{mutable:!1,arity:1},"register!":{mutable:!1,arity:1},getregistered:{mutable:!1,arity:1},"defstruct!":{mutable:!1,arity:2}};Object.keys(k).forEach((function(e,t){k[e].id=t+1,k[e].idb=y(k[e].id),k[e].idmask="10000"+k[e].idb+"0",k[e].idmaskhex=f(k[e].idmask);var r=p(e),n=r.bin,a=r.hex;k[e].encoded=n,k[e].hex=a})),k.lambda.encoded=function(e){return"100011"+c(e/2).padStart(25,"0")+"0"},k.lambda.hex=function(e){return f(k.lambda.encoded(e))};var E={};Object.keys(k).forEach((function(e){"string"===typeof k[e].hex&&(E[k[e].hex]=e)}));var C=function(e){return b(o(m(f(e)),4))},S=function(e){return C(w.number+x+c(e).padStart(16,"0"))},j=function(e){return C(w.bytelike+c(e).padStart(26,"0"))},O=function(e){return 0!==(2147483648&e)},A=function(e){return 0!==(67108864&e)},I=function(e){return 0!==(16777216&e)},R=function(e){return 72===(134217726&e)},Q=function(e){return(2013265920&e)>>27},T={};T[k["def!"].hex]={offsets:[64,8],aritydelta:-1},T[k.if.hex]={offsets:[8,8],aritydelta:0},T.lambda={offsets:function(e){return(67108862&e)>>1}},T.isGetByName={offsets:[64]};var z=function e(t,r){if(t.length!==r.length)throw new Error("Encode - different lengths.");return t.map((function(t,n){switch(t.type){case"uint":var i=S(t.size),s=parseInt(r[n]);return i+b(o(m(l(s)),t.size));case"bytes":if(!a.utils.isHexString(m(r[n])))throw new Error("Invalid bytes literal.");var u=b(r[n]),d=u.length/2;return j(d)+u;case"list":var f=c(r[n].length).padStart(24,"0");return v(f)+r[n].map((function(t){return e([{type:"uint",size:4}],[t])})).join("");case"bool":return function(e){return C(w.number+_+c(e?1:0).padStart(16,"0"))}(r[n]);default:throw new Error("Not implemented")}})).join("")},N=function e(t,r){if(function(e){return 0!==(134217728&e)}(t)){var a=function(e){return 65535&e}(t);return result=h(r.substring(0,2*a)),r=r.substring(2*a),{result:result,data:r}}if(function(e){return 0!==(67108864&e)}(t)){var i=function(e){return 67108863&e}(t);return result=r.substring(0,2*i),r=r.substring(2*i),{result:result,data:r}}if(function(e){return 0!==(268435456&e)}(t)){var o=function(e){return 16777215&e}(t);return{result:n(new Array(o)).map((function(t,n){var a,i=parseInt(r.substring(0,8),16),o=e(i,r.substring(8));return a=o.result,r=o.data,a})),data:r}}throw new Error("decode type not supported: "+t)};e.exports={u2b:c,u2h:l,b2u:d,b2h:f,h2u:h,h2b:function(e){return c(h(e))},typeid:w,nativeEnv:k,encode:z,decode:function(e){e=b(e);for(var t=[];e.length>0;){var r,n=parseInt(e.substring(0,8),16),a=N(n,e.substring(8));r=a.result,e=a.data,t.push(r)}return t},expr2h:function(e,t){var r=s.read_str(e);return m(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.length-1;if(t[0]&&"def!"===t[0].value){var o=t[0],s=t[1].value.hexEncode().padStart(64,"0"),c=e(t[2],t,a),d=l(c.length/2).padStart(8,"0");return k[o.value].hex+s+d+c}return t.map((function(o,s){if(u._symbol_Q(o)){if(!k[o.value]){if("0x"===o.value)return j(t[s+1].length/2)+t[s+1];if(!n[o.value]&&"_"===o.value[0]){var c=S(32)+o.value.substring(1).hexEncode().padStart(64,"0"),d=t[0].value===o.value?t.length:1;return k.getf.hex(d)+c}return n[o.value]?n[o.value]:(n[o.value]=g(s),"")}if("if"===o.value){var f=e([t[2]],null,a),h=e([t[3]],null,a);return k[o.value].hex+l(f.length/2).padStart(8,"0")+l(h.length/2).padStart(8,"0")}if("string"===typeof k[o.value].hex)return k[o.value].hex;if("function"!==typeof k[o.value].hex)throw new Error("Unexpected native function: "+o.value);if("fn*"===o.value){var m=e([t[1],t[2]],null,a),b=k.lambda.hex(m.length),y=t[1].length;return r&&r[0][0]&&r[0][0].value===o.value&&(b=k.apply.hex(y+1)+b),b}return k[o.value].hex(i)}return o instanceof Array?e(o,t,n,a):"boolean"===typeof o?z([{type:"bool"}],[o]):!parseInt(o)&&0!==parseInt(o)||t[s-1]&&"0x"===t[s-1].value?void 0:z([{type:"uint",size:4}],[o])})).join("")}(r,null,{},t))},funcidb:p,expr2s:function(e){return function e(t){var r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=[],s=t.substring(a),u=s.substring(0,8),c=parseInt(u,16);s=s.substring(8),a+=8;var l=O(c);if(l){if(E[u]&&(i+="("+(r=E[u])+" ",n=Q(c)),"def!"===r){var d=s.substring(0,T[u].offsets[0]).hexDecode();i+=" "+d.toString()+" ",s=s.substring(T[u].offsets[0]),a+=T[u].offsets[0];s.substring(0,T[u].offsets[1]);s=s.substring(T[u].offsets[1]);var f=e(t,a+=T[u].offsets[1],i);a=f.pos,i=f.accum}else if("if"===r){parseInt(s.substring(0,T[u].offsets[0]),16),parseInt(s.substring(0,T[u].offsets[1]),16);var h=e(t,a+T[u].offsets[0]+T[u].offsets[1],i);h=e(t,a=h.pos,i=h.accum),a=(h=e(t,a=h.pos,i=h.accum)).pos,i=h.accum}else if(A(c)){i+="( fn* () ";T.lambda.offsets(c);var m=e(t,a,i);i=m.accum}else if(R(c)){var b=s.substring(8,T.isGetByName.offsets[0]+8).hexDecode();i+="( _"+b+" ";var y=e(t,a+=T.isGetByName.offsets[0]+8,i);i=y.accum}else for(var p=0;p<n;p++){var g=e(t,a,i);a=g.pos,i=g.accum}i+=")"}else if(I(c)){var v=parseInt(s.substring(0,8),16),w="u_"+v+" ";o.push(w),i+=" "+w,a+=8}else{var _=N(c,s);i+=" "+_.result.toString(),a=t.length-_.data.length}return{pos:a,accum:i}}(b(e)).accum}}},337:function(e,t,r){var n={};function a(e){if(l(e))return"symbol";if(f(e))return"list";if(h(e))return"vector";if(m(e))return"hash-map";if(o(e))return"nil";if(s(e))return"true";if(u(e))return"false";if(p(e))return"atom";switch(typeof e){case"number":return"number";case"function":return"function";case"string":return"\u029e"==e[0]?"keyword":"string";default:throw new Error("Unknown type '"+typeof e+"'")}}function i(e){return f(e)||h(e)}function o(e){return null===e}function s(e){return!0===e}function u(e){return!1===e}function c(e){return this.value=e,this}function l(e){return e instanceof c}function d(e){return"function"==typeof e}function f(e){return Array.isArray(e)&&!e.__isvector__}function h(e){return Array.isArray(e)&&!!e.__isvector__}function m(e){return"object"===typeof e&&!Array.isArray(e)&&!(null===e)&&!(e instanceof c)&&!(e instanceof y)}function b(e){if(arguments.length%2!==1)throw new Error("Odd number of assoc arguments");for(var t=1;t<arguments.length;t+=2){var r=arguments[t],n=arguments[t+1];if("string"!==typeof r)throw new Error("expected hash-map key string, got: "+typeof r);e[r]=n}return e}function y(e){this.val=e}function p(e){return e instanceof y}c.prototype.toString=function(){return this.value},Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(key in this)t[key]=this[key];return t},t._obj_type=n._obj_type=a,t._sequential_Q=n._sequential_Q=i,t._equal_Q=n._equal_Q=function e(t,r){var n=a(t);if(!(n===a(r)||i(t)&&i(r)))return!1;switch(n){case"symbol":return t.value===r.value;case"list":case"vector":if(t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(!e(t[o],r[o]))return!1;return!0;case"hash-map":if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var s in t)if(!e(t[s],r[s]))return!1;return!0;default:return t===r}},t._clone=n._clone=function(e){var t;switch(a(e)){case"list":t=e.slice(0);break;case"vector":(t=e.slice(0)).__isvector__=!0;break;case"hash-map":for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=e[r]);break;case"function":t=e.clone();break;default:throw new Error("clone of non-collection: "+a(e))}return Object.defineProperty(t,"__meta__",{enumerable:!1,writable:!0}),t},t._nil_Q=n._nil_Q=o,t._true_Q=n._true_Q=s,t._false_Q=n._false_Q=u,t._number_Q=n._number_Q=function(e){return"number"===typeof e},t._string_Q=n._string_Q=function(e){return"string"===typeof e&&"\u029e"!==e[0]},t._symbol=n._symbol=function(e){return new c(e)},t._symbol_Q=n._symbol_Q=l,t._keyword=n._keyword=function(e){return"string"===typeof e&&"\u029e"===e[0]?e:"\u029e"+e},t._keyword_Q=n._keyword_Q=function(e){return"string"===typeof e&&"\u029e"===e[0]},t._function=n._function=function(e,t,r,n,a){var i=function(){return e(r,new t(n,a,arguments))};return i.__meta__=null,i.__ast__=r,i.__gen_env__=function(e){return new t(n,a,e)},i._ismacro_=!1,i},t._function_Q=n._function_Q=d,t._fn_Q=n._fn_Q=function(e){return d(e)&&!e._ismacro_},t._macro_Q=n._macro_Q=function(e){return d(e)&&!!e._ismacro_},t._list=n._list=function(){return Array.prototype.slice.call(arguments,0)},t._list_Q=n._list_Q=f,t._vector=n._vector=function(){var e=Array.prototype.slice.call(arguments,0);return e.__isvector__=!0,e},t._vector_Q=n._vector_Q=h,t._hash_map=n._hash_map=function(){if(arguments.length%2===1)throw new Error("Odd number of hash map arguments");var e=[{}].concat(Array.prototype.slice.call(arguments,0));return b.apply(null,e)},t._hash_map_Q=n._hash_map_Q=m,t._assoc_BANG=n._assoc_BANG=b,t._dissoc_BANG=n._dissoc_BANG=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];delete e[r]}return e},t._atom=n._atom=function(e){return new y(e)},t._atom_Q=n._atom_Q=p},458:function(e,t,r){e.exports=r(752)},463:function(e,t,r){},464:function(e,t,r){},746:function(e,t,r){var n={},a=r(337);function i(e){this.tokens=e.map((function(e){return e})),this.position=0}function o(e){for(var t=/[\s,]*(~@|[\[\]{}()'`~^@]|"(?:\\.|[^\\"])*"?|;.*|[^\s\[\]{}('"`,;)]*)/g,r=[];""!=(match=t.exec(e)[1]);)";"!==match[0]&&r.push(match);return r}function s(e,t,r){t=t||"(",r=r||")";var n=[],a=e.next();if(a!==t)throw new Error("expected '"+t+"'");for(;(a=e.peek())!==r;){if(!a)throw new Error("expected '"+r+"', got EOF");n.push(u(e))}return e.next(),n}function u(e){switch(e.peek()){case";":return null;case"'":return e.next(),[a._symbol("quote"),u(e)];case"`":return e.next(),[a._symbol("quasiquote"),u(e)];case"~":return e.next(),[a._symbol("unquote"),u(e)];case"~@":return e.next(),[a._symbol("splice-unquote"),u(e)];case"^":e.next();var t=u(e);return[a._symbol("with-meta"),u(e),t];case"@":return e.next(),[a._symbol("deref"),u(e)];case")":throw new Error("unexpected ')'");case"(":return s(e);case"]":throw new Error("unexpected ']'");case"[":return function(e){var t=s(e,"[","]");return a._vector.apply(null,t)}(e);case"}":throw new Error("unexpected '}'");case"{":return function(e){var t=s(e,"{","}");return a._hash_map.apply(null,t)}(e);default:return function(e){var t=e.next();if(t.match(/^-?[0-9]+$/))return parseInt(t,10);if(t.match(/^-?[0-9][0-9.]*$/))return parseFloat(t,10);if(t.match(/^"(?:\\.|[^\\"])*"$/))return t.slice(1,t.length-1).replace(/\\(.)/g,(function(e,t){return"n"===t?"\n":t}));if('"'===t[0])throw new Error("expected '\"', got EOF");return":"===t[0]?a._keyword(t.slice(1)):"nil"===t?null:"true"===t||"false"!==t&&a._symbol(t)}(e)}}function c(e){}i.prototype.next=function(){return this.tokens[this.position++]},i.prototype.peek=function(){return this.tokens[this.position]},t.Reader=n.Reader=i,t.BlankException=n.BlankException=c,t.tokenize=n.tokenize=o,t.read_form=n.read_form=u,t.read_str=n.read_str=function(e){var t=o(e);if(0===t.length)throw new c;return u(new i(t))}},747:function(e,t,r){var n={},a=r(337);n.println=t.println=function(){console.log.apply(console,arguments)},t._pr_str=n._pr_str=function e(t,r){"undefined"===typeof r&&(r=!0);var n=r;switch(a._obj_type(t)){case"list":return"("+(i=t.map((function(t){return e(t,n)}))).join(" ")+")";case"vector":return"["+(i=t.map((function(t){return e(t,n)}))).join(" ")+"]";case"hash-map":var i=[];for(var o in t)i.push(e(o,n),e(t[o],n));return"{"+i.join(" ")+"}";case"string":return"\u029e"===t[0]?":"+t.slice(1):n?'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t;case"keyword":return":"+t.slice(1);case"nil":return"nil";case"atom":return"(atom "+e(t.val,n)+")";default:return t.toString()}}},748:function(e,t){String.prototype.hexEncode=function(){var e,t="";for(e=0;e<this.length;e++)t+=("000"+this.charCodeAt(e).toString(16)).slice(-4);return t},String.prototype.hexDecode=function(){var e,t=this.match(/.{1,4}/g)||[],r="";for(e=0;e<t.length;e++){var n=parseInt(t[e],16);0!==n&&(r+=String.fromCharCode(n))}return r}},752:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),i=r(159),o=r.n(i),s=(r(463),r(464),r(52)),u=r.n(s),c=r(97),l=r(82),d=r(71),f=r(72),h=r(26),m=r(84),b=r(85),y=r(160),p=r(170),g=r(74),v=r(455),w=r.n(v),_={selectOnLineNumbers:!0,minimap:{enabled:!1},wordWrap:"on",wordWrapColumn:80,fontSize:14},x=r(456),k=r.n(x);var E=function(e){var t=e.styles,r=e.result,n=e.errors,i=_.fontSize;return a.a.createElement(p.a,{horizontal:!1,scrollEnabled:!0,scrollEventThrottle:100,nestedScrollEnabled:!0,contentContainerStyle:{width:t.width},style:Object(l.a)({},t,{flex:1})},a.a.createElement(p.a,{horizontal:!0,scrollEnabled:!0,scrollEventThrottle:100,contentContainerStyle:{width:t.width},style:Object(l.a)({},t,{flex:1})},n?a.a.createElement(g.Text,{style:{color:"firebrick",fontSize:i}},n):a.a.createElement(k.a,{src:r,name:"result",theme:"twilight",collapsed:6,shouldCollapse:function(e){return"d"===e.name},style:{fontSize:i}})))},C=r(457),S=function(){var e=Object(c.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=10;break}return t=new Web3(ethereum),e.prev=2,e.next=5,ethereum.enable();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("User rejected dApp connection");case 10:if(!t&&window.web3&&(t=new Web3(web3.currentProvider)),t){e.next=14;break}return console.log("Non-Ethereum browser detected. Consider trying MetaMask!"),e.abrupt("return",null);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,r=new C.ethers.providers.Web3Provider(t.currentProvider),n=r.getSigner(0),e.abrupt("return",{provider:r,signer:n});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O={5777:{contract1:"0xCFF8dc8A5e2Af7fcc6BE124d3C91FA50186A8c96",root:"contract1"},3:{contract1:"0x7D4150f492f93e2eDD7FC0Fc62c9193b322f75e5",root:"contract1"}},A=function(e){return"TaylorInterpreterAddress_"+e},I=function(e,t,r){var n=A(e),a=R(e);a[r]=t,a.root=r,localStorage.setItem(n,JSON.stringify(a))},R=function(e){var t=A(e),r=localStorage.getItem(t);return r?r=JSON.parse(r):(r=O[e]||{},localStorage.setItem(t,JSON.stringify(r))),r},Q=r(213),T=r.n(Q),z=function(e){return function(t){return function(){var r=Object(c.a)(u.a.mark((function r(n){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={to:t,data:n},r.next=3,e.call(a);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},N=function(e){return function(t){return function(){var r=Object(c.a)(u.a.mark((function r(n){var a,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={data:n,gasLimit:1e6,value:0,to:t,gasPrice:21},r.next=3,e.sendTransaction(a);case 3:return i=r.sent,r.abrupt("return",i);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},B=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){var n;return Object(d.a)(this,r),(n=t.call(this,e)).state={provider:null,signer:null,rootAddress:{},addresses:{},rootFunctions:[],addrToBeRegistered:null,registered:{}},n.onChangeAddress=n.onChangeAddress.bind(Object(h.a)(n)),n.onChangeCurrentName=n.onChangeCurrentName.bind(Object(h.a)(n)),n.onAddressSave=n.onAddressSave.bind(Object(h.a)(n)),n.onChangeRootAddress=n.onChangeRootAddress.bind(Object(h.a)(n)),n.onChangeRegisteredAddress=n.onChangeRegisteredAddress.bind(Object(h.a)(n)),n.onRegister=n.onRegister.bind(Object(h.a)(n)),n.setWeb3(),n}return Object(f.a)(r,[{key:"setWeb3",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,r,n,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,r=t.provider,n=t.signer,e.next=7,r.getNetwork();case 7:a=e.sent.chainId,i=R(a),o={name:i.root,address:i[i.root]},this.setState({addresses:i,rootAddress:o,provider:r,signer:n}),this._taycall=z(r),this._taysend=N(n),this.setContract(o.address),this.setRegistered(o.address);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setContract",value:function(e){(e=e||this.state.rootAddress)?(this.taycall=this._taycall(e),this.taysend=this._taysend(e),this.props.onRootChange(this.taycall,this.taysend)):(this.taycall=null,this.taysend=null)}},{key:"setRegistered",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var r,n,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t||this.state.rootAddress.address){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.taycall("0x44444440");case 5:r=e.sent,r=parseInt(r,16),n={},a=1;case 9:if(!(a<=r)){e.next=19;break}return i=T.a.expr2h("(getregistered "+a+")"),e.next=13,this.props.taycall(i);case 13:o="0x"+(o=e.sent).substring(10),n[o]=o;case 16:a++,e.next=9;break;case 19:this.setState({registered:n});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeAddress",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=this.state.rootAddress).address=t,this.setState({rootAddress:r});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeCurrentName",value:function(e){var t=this.state.rootAddress;t.name=e,this.setState({rootAddress:t})}},{key:"onAddressSave",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.rootAddress,r=this.state.provider,e.next=4,r.getNetwork();case 4:n=e.sent.chainId,I(n,t.address,t.name),this.setContract(t.address),this.setRegistered(t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeRootAddress",value:function(e){var t=this.state.addresses,r={name:Object.keys(t).find((function(r){return t[r]===e})),address:e};this.setState({rootAddress:r}),this.setContract(r.address),this.setRegistered(e)}},{key:"onChangeRegisteredAddress",value:function(e){this.setState({addrToBeRegistered:e})}},{key:"onRegister",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.addrToBeRegistered,r=T.a.expr2h('(register! 0x"'+t.substring(2)+'")'),e.next=4,this.taysend(r);case 4:this.setRegistered();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.styles,t=this.state,r=t.rootAddress,n=t.addresses,i=t.registered;return a.a.createElement(g.View,{style:Object(l.a)({},e,{fontSize:18})},a.a.createElement(g.View,{style:Object(l.a)({},e,{flex:1})},a.a.createElement(g.Item,{style:{width:e.width}},a.a.createElement(g.Input,{style:{color:"white"},placeholder:"address",label:"address",onChangeText:this.onChangeAddress})),a.a.createElement(g.Item,{style:{width:e.width}},a.a.createElement(g.Input,{style:{color:"white"},placeholder:"name",label:"name",onChangeText:this.onChangeCurrentName})),a.a.createElement(g.Button,{small:!0,light:!0,onClick:this.onAddressSave},a.a.createElement(g.Icon,{name:"save"}))),a.a.createElement(g.View,{style:Object(l.a)({},e,{flex:1})},a.a.createElement(g.Item,{picker:!0},a.a.createElement(g.Picker,{mode:"dropdown",style:{width:e.width,backgroundColor:"rgb(169, 169, 169)"},selectedValue:this.state.rootAddress.name,onValueChange:this.onChangeRootAddress},a.a.createElement(g.Picker.Item,{label:"select root",value:""}),Object.keys(n).map((function(e){return a.a.createElement(g.Picker.Item,{label:e,value:n[e],key:e})})))),a.a.createElement(g.View,{style:{width:e.width,flex:1,paddingTop:10}},a.a.createElement(g.Text,{style:{color:"beige",fontSize:18}},"Root Contract"),a.a.createElement("br",null),a.a.createElement(g.Text,{style:{color:"beige",fontSize:18}},r.name||"-"," - ",r.address||"-")),a.a.createElement(g.Item,{picker:!0},a.a.createElement(g.Picker,{mode:"dropdown",style:{width:e.width,backgroundColor:"rgb(169, 169, 169)"},selectedValue:this.state.rootAddress.name,onValueChange:this.onChangeRootAddress},a.a.createElement(g.Picker.Item,{label:"select registered contract",value:""}),Object.keys(i).map((function(e){return a.a.createElement(g.Picker.Item,{label:e,value:n[e],key:e})})))),a.a.createElement(g.Item,{style:{width:e.width}},a.a.createElement(g.Input,{style:{color:"white"},placeholder:"address",label:"address",onChangeText:this.onChangeRegisteredAddress})),a.a.createElement(g.Button,{small:!0,light:!0,onClick:this.onRegister},a.a.createElement(g.Text,null,"register")),a.a.createElement(g.View,null,a.a.createElement(g.Text,null))))}}]),r}(n.Component);var W=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){var n;Object(d.a)(this,r),n=t.call(this,e);var a=function(){var e=window.localStorage.getItem("TaylorCode");return e||(e="(add (mul 2 (add 13 56)) 9000)",window.localStorage.setItem("TaylorCode",e)),e}(),i=T.a.expr2h(a);return n.state=Object(l.a)({},n.getWindowDimensions(),{pageNumber:3,autocompile:!0,code:a,encoded:i,result:[{data:i}],errors:"",provider:null,signer:null,rootAddress:null,taycall:null,taysend:null}),n.onContentSizeChange=n.onContentSizeChange.bind(Object(h.a)(n)),n.getWindowDimensions=n.getWindowDimensions.bind(Object(h.a)(n)),n.onTextChange=n.onTextChange.bind(Object(h.a)(n)),n.execute=n.execute.bind(Object(h.a)(n)),n.onRootChange=n.onRootChange.bind(Object(h.a)(n)),n.setWeb3(),n}return Object(f.a)(r,[{key:"setWeb3",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,r=t.provider,n=t.signer,this.setState({provider:r,signer:n}),this.onRootChange();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRootChange",value:function(e,t){this.setState({taycall:e,taysend:t}),this.execute()}},{key:"execute",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,r,n,a,i,o,s,c,l,d=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},r=t.encdata,n=t.code,a=t.force,i=void 0!==a&&a,r=r||this.state.encoded,n=n||this.state.code,n&&n.includes("def!")){e.next=17;break}return e.prev=5,e.next=8,this.state.taycall(r);case 8:o=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:try{s=T.a.decode(o)}catch(u){}this.setState({result:[{result:s,encoded:o,data:r}]}),e.next=34;break;case 17:if(!i){e.next=34;break}return l={},e.prev=19,e.next=22,this.state.taysend(r);case 22:return c=e.sent,this.setState({result:[{receipt:c}]}),e.next=26,c.wait();case 26:l=e.sent,e.next=31;break;case 29:e.prev=29,e.t1=e.catch(19);case 31:if(0!==l.status){e.next=33;break}throw new Error("Transaction failed");case 33:this.setState({result:[{receipt:l}]});case 34:case"end":return e.stop()}}),e,this,[[5,11],[19,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"onContentSizeChange",value:function(){this.setState(this.getWindowDimensions())}},{key:"getWindowDimensions",value:function(){var e=y.a.get("window"),t=document.getElementById("TaylorRoot").getBoundingClientRect();return{width:e.width||t.width,height:e.height||t.height}}},{key:"editorDidMount",value:function(e,t){e.focus()}},{key:"onTextChange",value:function(e){try{var t=T.a.expr2h(e);this.setState({code:e}),r=e,window.localStorage.setItem("TaylorCode",r),this.execute({encdata:t,code:e})}catch(n){}var r}},{key:"render",value:function(){var e=this,t=this.state,r=t.width,n=t.height,i=function(e,t){var r=t.width,n=t.height;return r<800?{minWidth:r,minHeight:n}:{width:r/e,height:n}}(this.state.pageNumber,{width:r,height:n}),o=Object(l.a)({},i,{width:2*i.width,height:2*i.height/5}),s=Object(l.a)({},i,{width:2*i.width,height:i.height-o.height}),u=Object(l.a)({},i),c=this.state,d=c.code,f=c.result,h=c.errors,m=c.taycall,b=c.taysend;return a.a.createElement(p.a,{horizontal:!0,pagingEnabled:!0,scrollEnabled:!0,scrollEventThrottle:100,nestedScrollEnabled:!0,contentContainerStyle:{width:"100%"},onContentSizeChange:this.onContentSizeChange},a.a.createElement(g.View,{style:Object(l.a)({},o,{flex:1})},a.a.createElement(w.a,{width:o.width,height:o.height,language:"javascript",theme:"vs-dark",value:d,options:_,onChange:this.onTextChange,editorDidMount:this.editorDidMount}),a.a.createElement(E,{result:f,errors:h,styles:Object(l.a)({},s)})),a.a.createElement(g.Button,{small:!0,light:!0,style:{position:"fixed",top:"0px",left:"0px",backgroundColor:"white",opacity:this.state.autocompile?.5:.2},onClick:function(){return e.execute({force:!0})}},a.a.createElement(g.Icon,{type:"FontAwesome",name:"play"})),a.a.createElement(B,{taycall:m,taysend:b,styles:Object(l.a)({},u),onRootChange:this.onRootChange}))}}]),r}(n.Component);var q=function(e){return a.a.createElement(W,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(q,null),document.getElementById("TaylorRoot")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[458,1,2]]]);
//# sourceMappingURL=main.0cd1b95e.chunk.js.map